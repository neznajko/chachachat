////////////////////////////////////////////////////////////////////////
package com.chachachat.service;
////////////////////////////////////////////////////////////////////////
import org.springframework.stereotype.Service;
import org.springframework.security.crypto.password.PasswordEncoder;
////////////////////////////////////////////////////////////////////////
import com.chachachat.repository.UserRepository;
import com.chachachat.model.User;
////////////////////////////////////////////////////////////////////////
import java.util.Optional;
////////////////////////////////////////////////////////////////////////
@Service
public class UserService {
    
    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;

    public UserService( UserRepository userRepository,
                        PasswordEncoder passwordEncoder ){
        this.userRepository = userRepository;
        this.passwordEncoder = passwordEncoder;
    }
    public Optional <User> findByName( String name ){
        return userRepository.findByName( name );
    }
    public User register( String username, String password ){
        password = passwordEncoder.encode( password );
        return userRepository.save( new User( username, password ));
    }
}
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
// Exercise 1.3.1. (a) W r i t e a formal definition in the s t y l e of
// Definition 1.3.2 for the infimum or greatest l o w e r bound of a set.
// (b) Now, state and prove a version o f Lemma 1.3.8 for greatest lower
// bounds.
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
