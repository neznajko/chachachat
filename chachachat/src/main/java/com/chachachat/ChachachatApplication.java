////////////////////////////////////////////////////////////////
package com.chachachat;
////////////////////////////////////////////////////////////////
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
////////////////////////////////////////////////////////////////
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.CommandLineRunner;
////////////////////////////////////////////////////////////////
import com.chachachat.model.Chat;
import com.chachachat.model.User;
import com.chachachat.model.Message;

import com.chachachat.service.UserService;
import com.chachachat.service.ChatService;
import com.chachachat.service.MessageService;
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
@SpringBootApplication
public class ChachachatApplication implements CommandLineRunner {
    
    private static final Logger log = LoggerFactory
        .getLogger( ChachachatApplication.class );

    private final UserService userService;
    private final ChatService chatService;
    private final MessageService msgService;
    
    public ChachachatApplication( UserService userService,
                                  ChatService chatService,
                                  MessageService msgService ){
        this.userService = userService;
        this.chatService = chatService;
        this.msgService = msgService;
    }
	public static void main( String[] args ){
        
		SpringApplication.run( ChachachatApplication.class, args );
	}
    @Override
    public void run( String ... args ) throws Exception {
        log.info( "Boom" );
        Chat chat = chatService.createChat( "Spring Boot" );
        User Anton = userService.register( "Anton", "Anton" );
        User Bobi = userService.register( "Bobi", "Bobi" );
        msgService.save( "Vrooom", chat, Anton );
        msgService.save( "haHa", chat, Bobi );
    }
}
////////////////////////////////////////////////////////////////
//
// #############################################################
// #############################################################
// #############################################################
// #############################################################
////////////////////////////////////////////////////////////////
// 1. あした、アルバイトがありますか。
//    いいえ、ありません。
////////////////////////////////////////////////////////////////
// 2. いつ日本語のクラスがありますか。
//    木曜日にあります。
////////////////////////////////////////////////////////////////
// 3. 日本に友だちがいますか。
//    いいえ、いません。
////////////////////////////////////////////////////////////////
// 4. 兄弟がいますか。
//    はい、おねえさんがいます。
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
